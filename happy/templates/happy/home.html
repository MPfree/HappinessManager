{% extends "happy/base.html" %}
{% block content %}
    <h1>Home</h1>
    {% if messages %}
        {% for message in messages %}
            <div>
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    <a href="{% url 'happy-newentry' %}">
        <button class="ui button large green">Enter Data</button>
    </a>

    <div class="ui container">
        <canvas id="myChart"></canvas>
    </div>
    {% load static %}
    <div class="ui buttons">
        <button onclick="updateData('alltime')" class="ui button">All time</button>
        <button onclick="updateData('yesterday')"  class="ui button">Yesterday</button>
        <button onclick="updateData('pastweek')"  class="ui button">Past week</button>
        <button onclick="updateData('pastmonth')"  class="ui button">Past month</button>
        <button onclick="updateData('pastyear')"  class="ui button">Past year</button>
    </div>
    <script src="{% static 'happy/renderChart.js' %}"></script>
    {{ indicator_names|json_script:"indicator_names" }}
    <script>
        var indicator_names = JSON.parse(document.getElementById('indicator_names').textContent);
        renderChart(indicator_names)
        updateData('yesterday')
    </script>
{% endblock content %}
    
   
